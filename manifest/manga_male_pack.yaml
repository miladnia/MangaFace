pack_name: manga_male_pack
initializer_script: initializer_script


color_palettes:
    # Skin colors
  skin_color_palette:
    colors:
      - color_name: light
        color_code: '#f9d5c3'
      - color_name: plain
        color_code: '#fabe9f'
      - color_name: dark
        color_code: '#e0a182'
    # Hair colors
  hair_color_palette:
    colors:
      - color_name: black
        color_code: '#262624'
      - color_name: brown
        color_code: '#a87c4f'
      - color_name: red
        color_code: '#ac3831'
      - color_name: blonde
        color_code: '#fabe48'
    # Eye colors
  eye_color_palette:
    colors:
      - color_name: black
        color_code: '#262624'
      - color_name: brown
        color_code: '#a35d02'
      - color_name: hazel
        color_code: '#d1c50b'
      - color_name: green
        color_code: '#0dc438'
      - color_name: blue
        color_code: '#1c71f1'
      - color_name: gray
        color_code: '#a5caf3'
    # Cloth colors
  cloth_color_palette:
    colors:
      - color_name: white
        color_code: '#f5f4e8'
      - color_name: black
        color_code: '#262624'
      - color_name: brown
        color_code: '#5b3b26'
      - color_name: yellow
        color_code: '#dfa915'
      - color_name: blue
        color_code: '#2f7faf'
      - color_name: violet
        color_code: '#6854a2'
      - color_name: red
        color_code: '#a91a26'
      - color_name: green
        color_code: '#136f36'


navigators:
  # Head
  - cover_url: <BASE_URL>/manga_male_pack/interface/head_section.png
    options:
      - title: Shape
        command_name: draw_head_shape
      - title: Ears
        command_name: draw_ears
      - title: Eyebrows
        command_name: draw_eyebrows
      - title: Eyes
        command_name: draw_eyes
      - title: Nose
        command_name: draw_nose
      - title: Mouth
        command_name: draw_mouth
      - title: Mustache
        command_name: draw_mustache
      - title: Beard
        command_name: draw_beard
  # Hair
  - cover_url: <BASE_URL>/manga_male_pack/interface/hair_section.png
    options:
      - title: Hair
        command_name: draw_hair
  # Wearables
  - cover_url: <BASE_URL>/manga_male_pack/interface/wearables_section.png
    options:
      - title: Shirt
        command_name: draw_shirt
      - title: Jacket
        command_name: draw_jacket
      - title: Scarf
        command_name: draw_scarf
      - title: Hat
        command_name: draw_hat
      - title: Glasses
        command_name: draw_glasses
  # Backgrounds
  - cover_url: <BASE_URL>/manga_male_pack/interface/backgrounds_section.png
    options:
      - title: Colors
        command_name: draw_filled_background
      - title: Patterns
        command_name: draw_patterns
      - title: Themes
        command_name: draw_themes
  # Effects
  - cover_url: <BASE_URL>/manga_male_pack/interface/effects_section.png
    options:
      - title: Weather
        command_name: draw_weather_effect


scripts:
  initializer_script:
    description: Initializes a default face.
    actions:
      # Draw body_shape
      - command_name: draw_body_shape
        asset_index: 1
        color_name: plain
      # Draw head_shape
      - command_name: draw_head_shape
        asset_index: 1
        color_name: plain
      # Draw ears
      - command_name: draw_ears
        asset_index: 1
      # Draw eyebrows
      - command_name: draw_eyebrows
        asset_index: 1
        color_name: black
      # Draw eyes
      - command_name: draw_eyes
        asset_index: 1
        color_name: black
      # Draw nose
      - command_name: draw_nose
        asset_index: 1
      # Draw mouth
      - command_name: draw_mouth
        asset_index: 1
      # Draw shirt
      - command_name: draw_shirt
        asset_index: 5
        color_name: white
      # Draw filled_background
      - command_name: draw_filled_background
        asset_index: 3


commands:
  # Draw body_shape
  draw_body_shape:
    preview_url: ''
    permanent: true
    subscribed_layers:
      - body_shape_layer
  # Draw head_shape
  draw_head_shape:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/head_shapes/{asset_index}.gif
    protected: true
    subscribed_layers:
      - head_shape_layer
  # Draw ears
  draw_ears:
    default_color_name: plain
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/ears/{asset_index}.gif
    subscribed_layers:
      - left_ear_layer
      - right_ear_layer
  # Draw eyebrows
  draw_eyebrows:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/eyebrows/{asset_index}.gif
    movement_limit: 2
    subscribed_layers:
      - left_eyebrow_layer
      - right_eyebrow_layer
      - left_eyeshadow_layer
      - right_eyeshadow_layer
  # Draw eyes
  draw_eyes:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/eyes/{asset_index}.gif
    subscribed_layers:
      - left_eye_layer
      - right_eye_layer
  # Draw nose
  draw_nose:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/nose_shapes/{asset_index}.gif
    movement_limit: 2
    subscribed_layers:
      - nose_layer
  # Draw mouth
  draw_mouth:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/mouth_shapes/{asset_index}.gif
    movement_limit: 2
    subscribed_layers:
      - mouth_layer
  # Draw mustache
  draw_mustache:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/mustache_styles/{asset_index}.gif
    movement_limit: 2
    subscribed_layers:
      - mustache_layer
  # Draw beard
  draw_beard:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/beard_styles/{asset_index}.gif
    subscribed_layers:
      - beard_layer
  # Draw hair
  draw_hair:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/hair_styles/{asset_index}.gif
    subscribed_layers:
      - hair_front_layer
      - hair_back_layer
    rules:
        # Handle ear-covering hair styles
      - match_asset_index: [33, 37, 38, 39, 41, 43, 44, 60, 62]
        freeze_layers:
            # Make the ears hidden
          - layer: left_ear_layer
            asset_index: 0
          - layer: right_ear_layer
            asset_index: 0
      - match_asset_index:
  # Draw shirt
  draw_shirt:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/shirts/{asset_index}.gif
    subscribed_layers:
      - shirt_layer
  # Draw jacket
  draw_jacket:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/jackets/{asset_index}.gif
    subscribed_layers:
      - jackets_layer
  # Draw scarf
  draw_scarf:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/scarfs/{asset_index}.gif
    subscribed_layers:
      - scarf_layer
  # Draw hat
  draw_hat:
    movement_limit: 3
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/hats/{asset_index}.gif
    subscribed_layers:
      - hat_layer
    rules:
        # Rule 1: Handle swim caps / head covers
      - match_asset_index: [4, 6]
        freeze_layers:
            # Hide the left ear
          - layer: left_ear_layer
            asset_index: 0
            # Hide the right ear
          - layer: right_ear_layer
            asset_index: 0
            # Hide the hair
          - layer: hair_layer
            asset_index: 0
        # Rule 2: Handle all the hats covering the hair
      - match_asset_index: [1, 3, 5, 7, 8, 9, 10, 11]
        when:
            # When the hair style is long
          - layer: hair_layer
            match_asset_index: [4, 5, 6, 7, 8, 12, 13, 14, 15, 16, 20, 24, 25, 29, 31, 44, 56, 57, 60]
        freeze_layers:
            # Change hair style to bald
          - layer: hair_layer
            asset_index: 22
  # Draw glasses
  draw_glasses:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/glasses/{asset_index}.gif
    movement_limit: 2
    subscribed_layers:
      - glasses_layer
  # Draw filled_background
  draw_filled_background:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/bg_colors/{asset_index}.gif
    subscribed_layers:
      - filled_background_layer
  # Draw patterns
  draw_patterns:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/bg_patterns/{asset_index}.gif
    subscribed_layers:
      - pattern_layer
  # Draw themes
  draw_themes:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/bg_themes/{asset_index}.gif
    subscribed_layers:
      - theme_layer
  # Draw weather_effect
  draw_weather_effect:
    preview_url: <BASE_URL>/manga_male_pack/interface/design_preview/weather_effects/{asset_index}.gif
    subscribed_layers:
      - weather_effect_layer


layers:
  filled_background_layer:
    max_asset_index: 24
    asset_url: <BASE_URL>/manga_male_pack/shapes/bg_color/default/{asset_index}.png
    position:
      top: 0
      left: 0

  pattern_layer:
    max_asset_index: 32
    color_palette_name: cloth_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/bg_pattern/{color_name}/{asset_index}.png
    position:
      top: 0
      left: 0

  theme_layer:
    max_asset_index: 18
    asset_url: <BASE_URL>/manga_male_pack/shapes/bg_theme/default/{asset_index}.png
    position:
      top: 0
      left: 0

  body_shape_layer:
    max_asset_index: 1
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/body_shape/{color_name}/{asset_index}.png
    position:
      top: 134
      left: 26

  hair_back_layer:
    max_asset_index: 62
    color_palette_name: hair_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/hair_back/{color_name}/{asset_index}.png
    position:
      top: 23
      left: 0

  shirt_layer:
    max_asset_index: 25
    color_palette_name: cloth_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/shirt/{color_name}/{asset_index}.png
    position:
      top: 124
      left: 26

  jackets_layer:
    max_asset_index: 19
    color_palette_name: cloth_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/jacket/{color_name}/{asset_index}.png
    position:
      top: 122
      left: 24

  scarf_layer:
    max_asset_index: 2
    color_palette_name: cloth_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/scarf/{color_name}/{asset_index}.png
    position:
      top: 126
      left: 30

  right_ear_layer:
    max_asset_index: 6
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/right_ear/{color_name}/{asset_index}.png
    position:
      top: 64
      left: 12

  left_ear_layer:
    max_asset_index: 6
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/left_ear/{color_name}/{asset_index}.png
    position:
      top: 64
      left: 137

  head_shape_layer:
    max_asset_index: 30
    color_palette_name: skin_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/head_shape/{color_name}/{asset_index}.png
    position:
      top: 0
      left: 30

  beard_layer:
    max_asset_index: 2
    color_palette_name: hair_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/beard/{color_name}/{asset_index}.png
    position:
      top: 75
      left: 30

  mouth_layer:
    max_asset_index: 23
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/mouth/{color_name}/{asset_index}.png
    position:
      top: 107
      left: 52

  mustache_layer:
    max_asset_index: 29
    color_palette_name: hair_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/mustache/{color_name}/{asset_index}.png
    position:
      top: 104
      left: 49

  nose_layer:
    max_asset_index: 34
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/nose/{color_name}/{asset_index}.png
    position:
      top: 68
      left: 65

  left_eyeshadow_layer:
    max_asset_index: 27
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/left_eyeshadow/{color_name}/{asset_index}.png
    position:
      top: 55
      left: 91

  right_eyeshadow_layer:
    max_asset_index: 27
    color_source: head_shape_layer
    asset_url: <BASE_URL>/manga_male_pack/shapes/right_eyeshadow/{color_name}/{asset_index}.png
    position:
      top: 55
      left: 38

  left_eye_layer:
    max_asset_index: 28
    color_palette_name: eye_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/left_eye/{color_name}/{asset_index}.png
    position:
      top: 68
      left: 97

  right_eye_layer:
    max_asset_index: 28
    color_palette_name: eye_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/right_eye/{color_name}/{asset_index}.png
    position:
      top: 68
      left: 41

  left_eyebrow_layer:
    max_asset_index: 27
    color_palette_name: hair_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/left_eyebrow/{color_name}/{asset_index}.png
    position:
      top: 52
      left: 93

  right_eyebrow_layer:
    max_asset_index: 27
    color_palette_name: hair_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/right_eyebrow/{color_name}/{asset_index}.png
    position:
      top: 52
      left: 39

  glasses_layer:
    max_asset_index: 34
    asset_url: <BASE_URL>/manga_male_pack/shapes/glasses/default/{asset_index}.png
    position:
      top: 57
      left: 27

  hair_front_layer:
    max_asset_index: 62
    color_palette_name: hair_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/hair_front/{color_name}/{asset_index}.png
    position:
      top: 0
      left: 0

  hat_layer:
    max_asset_index: 11
    color_palette_name: cloth_color_palette
    asset_url: <BASE_URL>/manga_male_pack/shapes/hat/{color_name}/{asset_index}.png
    position:
      top: -20
      left: 0

  weather_effect_layer:
    max_asset_index: 1
    asset_url: <BASE_URL>/manga_male_pack/shapes/weather_effect/default/{asset_index}.png
    position:
      top: 0
      left: 0

layers_priority:
  - filled_background_layer
  - pattern_layer
  - theme_layer
  - body_shape_layer
  - hair_back_layer
  - shirt_layer
  - jackets_layer
  - scarf_layer
  - right_ear_layer
  - left_ear_layer
  - head_shape_layer
  - beard_layer
  - mouth_layer
  - mustache_layer
  - nose_layer
  - left_eyeshadow_layer
  - right_eyeshadow_layer
  - left_eye_layer
  - right_eye_layer
  - left_eyebrow_layer
  - right_eyebrow_layer
  - glasses_layer
  - hair_front_layer
  - hat_layer
  - weather_effect_layer
